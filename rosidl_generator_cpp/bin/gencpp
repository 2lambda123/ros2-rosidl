#!/usr/bin/env python3

import os
import sys

def gencpp(pkg, msg, header, outfile):
    pkgupper = pkg.upper()
    msgupper = msg.upper()
    output = '''#ifndef %s__%s_H
#define %s__%s_H

#include <%s/msg/%s.hpp>

namespace %s
{
  typedef msg::%s %s;
}

#endif'''%(pkgupper, msgupper, pkgupper, msgupper, pkg, header, pkg, msg, msg)
    outf = open(outfile, 'w')
    outf.write(output)
    outf.close()

if __name__ == '__main__':
    if len(sys.argv) != 5:
        print('Expected exactly four arguments')
        sys.exit(1)
    gencpp(sys.argv[1], sys.argv[2], sys.argv[3], sys.argv[4])
